---
layout: post
title: 모던 리액트 Deep Dive 1장 - part 2.
description: >
  React에 Redux를 적용하기 위한 공부
image:
sitemap: false
---

## 01장, 리액트 개발을 위해 꼭 알아야 할 자바스크립트 📑

5. 이벤트 루프와 비동기 통신의 이해

6. 리액트에서 자주 사용하는 자바스크립트 문법

7. 선택이 아닌 필수, 자바스크립트

### 5. 이벤트 루프와 비동기 통신의 이해

기본적으로 자바스크립트는 한 번에 하나의 작업만 처리할 수 있다(동기).<br/>
하지만, 싱글 스레드 기반의 자바스크립트에서도 많은 양의 비동기작업이 이루어지고 있다.
<br/><br/>

#### 싱글 스레드 자바스크립트

프로세스보다 작은 단위의 스레드가 존재하는데, 프로세스 안에서 여러개의 스레드가 돌아가며, 동시다발적으로 일을 처리한다. 동시에 여러 일을 처리하다보면 같은 자원을 공유하는 경우, 같은 자원의 접근이 발생하다 보니 꼬일 수 있는 이슈가 발생할 수 있다.<br/>
이러한 이유로 인해 자바스크립트는 'Run-to-completion' 을 유지하지만, 웹페이지에서는 여러 작업들이 동시 다발적으로 처리되어야 웹페이지가 돌아가는 느낌을 주므로 비동기적으로 동작한다.

#### 비동기 작업을 가능하게 하는 이벤트 루프

이벤트 루프느는 런타임 외부에서 자바스크립트의 비동기 실행을 돕는 장치이다. <br/>
현대의 자바스크립트 런타임 엔진에는 자바스크립트 코드를 실행을 효과적으로 돕기 위한 장치들이 존재한다.<br/><br/>
자바스크립트의 실행은 호출 스택(콜 스택)에 순차적으로 쌓인다. 순차적으로 쌓이다가 실행이 오래걸리는 작업은 태스크 큐로 이동하여 대기하게 된다. 호출 스택의 작업이 완료되면, 이벤트 루프가 돌면서 호출 스택을 확인하고, 태스크 큐의 작업들을 오래된 것부터 순차적으로 꺼내와서 실행한다.
<br/>이러한 비동기 작업을 실행하는 것은 자바스크립트 엔진이 아닌 Node.js를 통해서
이루어지게 된다. 외부 Web API 등은 자바스크립트 코드 외부에서 실행되고, 콜백이 태스크 큐로 들어가고, 이벤트 루프에서 실행 가능한 때가 되면 꺼내서 실행하는 것이다.

#### 태스크 큐, 마이크로 태스크 큐

태스크 큐는 태크스 큐와 마이크로 태스크 큐로 쪼개져서 비동기 작업을 처리하게 된다.
마이크로 태스크 큐의 작업이 끝난 후 태스크 큐의 작업을 실행한다.
<br/>
<br/>
마이크로 태스크 큐 작업 종류: Promises, queueMicroTask, MutationObserver, process.nextTic<br/>
태스크 큐 작업 종류: setTimeout, setInterval,setImmediate

#### 비동기, 동기 모두 렌더링에 영향을 미친다...

동기 뿐만 아니라 비동기 작업 또한 렌더링에 영향을 미치므로, 특정 렌더링이 자바스크립트 내 무거운 작업과 연관이 있다면 이를 어떻게 분리해서 사용 경험에 좋은 영향을 줄 수 있는 지 고민해 봐야 한다.
